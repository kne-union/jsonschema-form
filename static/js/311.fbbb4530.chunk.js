(self.webpackChunk_kne_components_jsonschema_form=self.webpackChunk_kne_components_jsonschema_form||[]).push([[311,159],{54311:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x,manifest:()=>O});var r={};n.r(r),n.d(r,{default:()=>v});var a=n(94922),l=n.n(a),o=n(55199),m=n(87832),s=n.n(m),c=n(54159),i=n.n(c);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var y="_LsbBm";const d=["className","title","extra","children"],g=e=>{let{className:t,children:n}=e;return l().createElement(o.Space,{className:t,direction:"vertical",size:0},n)};g.Part=e=>{let{className:t,title:n,extra:r,children:a}=e,m=u(e,d);return l().createElement(o.Card,p({className:i()(y,t,{"no-title":!n}),bordered:!1,title:n,extra:r},m),a)};var h="_USYpx",f="_TM-Fy",b="_u3-0A",E="_KdygK";const N=["column","gap","schema","rules","footer"],j=(e,t)=>{let{column:n,gap:r,labelHidden:a}=t;if("object"===e.type){const t=l().createElement(o.Row,{gutter:[r,0]},Object.keys(e.properties).map((t=>{const a=e.properties[t];return j(Object.assign({},a,{propertyRequired:(e.required||[]).indexOf(t)>-1,propertyName:[e.propertyName,t].filter((e=>!!e)).join(".")}),{column:n,gap:r})})));return l().createElement(o.Col,{key:e.propertyName||"root",span:24},e.propertyName?l().createElement(g.Part,{title:e.title},t):t)}if("array"===e.type)return l().createElement(o.Col,{key:e.propertyName||"root",span:24},l().createElement(k,{schema:e,column:n,gap:r}));const s=[e.propertyRequired?"REQ":"",e.pattern?"REG_EXP-".concat(e.pattern):"",e.hasOwnProperty("minLength")||e.hasOwnProperty("maxLength")?"LEN-".concat(e.minLength).concat(e.hasOwnProperty("maxLength")?"-".concat(e.maxLength):""):""].join(" ");return Array.isArray(e.enum)&&e.enum.length>0?l().createElement(o.Col,{key:e.propertyName,span:Math.round(24/n)},l().createElement(m.Select,{name:e.propertyName,label:e.title,rule:s,labelHidden:a,value:e.default,options:e.enum.map((t=>["integer","number","string"].indexOf(e.type)>-1?{label:t,value:t}:t))})):"string"===e.type&&e.maxLength>20?l().createElement(o.Col,{key:e.propertyName,span:24},l().createElement(m.TextArea,{name:e.propertyName,label:e.title,rule:s,labelHidden:a,value:e.default,maxLength:e.maxLength,showCount:!0,allowClear:!0,autoSize:{minRows:2}})):"string"===e.type?l().createElement(o.Col,{key:e.propertyName,span:Math.round(24/n)},l().createElement(m.Input,{name:e.propertyName,labelHidden:a,label:e.title,rule:s,value:e.default})):"boolean"===e.type?l().createElement(o.Col,{key:e.propertyName,span:Math.round(24/n)},l().createElement(m.Switch,{name:e.propertyName,labelHidden:a,label:e.title,rule:s,checked:e.default})):["integer","number"].indexOf(e.type)>-1?l().createElement(o.Col,{key:e.propertyName,span:Math.round(24/n)},l().createElement(m.InputNumber,{name:e.propertyName,labelHidden:a,label:e.title,rule:s,value:e.default})):null},k=e=>{let{schema:t,column:n,gap:r}=e;const s=(0,a.useRef)(null);return l().createElement(g.Part,{className:h,title:t.title,extra:l().createElement(o.Button,{type:"link",onClick:()=>{s.current.onAdd()}},"\u6dfb\u52a0")},l().createElement(m.GroupList,{ref:s,name:t.propertyName,defaultLength:1,empty:l().createElement(o.Empty,{description:""},l().createElement(o.Button,{type:"primary",onClick:()=>{s.current.onAdd()}},"\u6dfb\u52a0"))},((e,a)=>{let{index:m,onRemove:s}=a;var c;const i=-1===["array","object"].indexOf(null==t||null==(c=t.items)?void 0:c.type);return l().createElement("div",{key:e,className:f},l().createElement(g.Part,{className:b,title:"".concat(t.title," ").concat(m+1),extra:l().createElement(o.Button,{type:"link",danger:!0,onClick:s},"\u5220\u9664")},l().createElement(o.Row,{gutter:[r,0]},j(Object.assign({},t.items,i?{title:t.title,propertyName:t.propertyName}:{}),Object.assign({},{column:n,gap:r},i?{column:1,labelHidden:!0}:{})))))})))},v=e=>{let{column:t,gap:n,schema:r,rules:c,footer:i}=e,y=u(e,N);const d=(0,a.useMemo)((()=>j(r,{column:t,gap:n})),[r]);return l().createElement(s(),p({className:E},y,{rules:Object.assign({},c,{REG_EXP:(e,t)=>({result:new RegExp(t).test(e),msg:"%s\u4e0d\u7b26\u5408\u89c4\u5219"})})}),l().createElement(g,null,l().createElement(o.Row,{gutter:[n,0]},d),i||l().createElement(o.Row,{gutter:[n,0],justify:"center"},l().createElement(o.Col,null,l().createElement(m.SubmitButton,null,"\u4fdd\u5b58")),l().createElement(o.Col,null,l().createElement(m.ResetButton,null,"\u91cd\u7f6e")))))};v.defaultProps={column:2,gap:24,type:"inner"};const x={JsonschemaForm:{name:"jsonschema-form",summary:"<p>\u8fd9\u91cc\u586b\u5199\u7ec4\u4ef6\u6982\u8981\u8bf4\u660e</p>",packageName:"@kne/jsonschema-form",api:"<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n</tr>\n</thead>\n</table>",example:{isFull:!1,className:"jsonschema_form_c4f36",style:"",list:[{title:"\u8fd9\u91cc\u586b\u5199\u793a\u4f8b\u6807\u9898",description:"\u8fd9\u91cc\u586b\u5199\u793a\u4f8b\u8bf4\u660e",code:'const {default: JSONSchemaForm} = jsonSchemaForm;\nconst BaseExample = () => {\n    return <JSONSchemaForm onSubmit={(data) => {\n        console.log(data);\n    }} schema={{\n        "title": "\u4e2a\u4eba\u7b80\u5386",\n        "description": "\u4e2a\u4eba\u7b80\u5386",\n        "type": "object",\n        "required": ["name", "gender"],\n        "properties": {\n            "name": {\n                "type": "string", "title": "\u59d3\u540d", "default": "\u5f20\u4e09"\n            }, "gender": {\n                "type": "string", "title": "\u6027\u522b", "enum": ["\u7537", "\u5973"], default: "\u7537"\n            }, "age": {\n                "type": "integer", "title": "\u5e74\u9f84"\n            }, "isPLA": {\n                "type": "boolean", "title": "\u662f\u5426\u515a\u5458", default: true\n            }, "desc": {\n                "type": "string", "title": "\u4e2a\u4eba\u7b80\u4ecb", "minLength": 0, "maxLength": 500\n            }, "education": {\n                "type": "array", "title": "\u6559\u80b2\u7ecf\u5386", "items": {\n                    "type": "object", "required": ["schoolName"], "properties": {\n                        "schoolName": {\n                            "type": "string", "title": "\u5b66\u6821\u540d\u79f0"\n                        }, "type": {\n                            "type": "string", "title": "\u7c7b\u578b", "enum": ["\u7edf\u62db", "\u975e\u7edf\u62db"]\n                        }, "major": {\n                            "type": "string", "title": "\u4e13\u4e1a"\n                        }, "time": {\n                            "type": "object", "title": "\u65f6\u95f4", "properties": {\n                                "startTime": {\n                                    "type": "string", "title": "\u5f00\u59cb\u65f6\u95f4"\n                                }, "endTime": {\n                                    "type": "string", "title": "\u7ed3\u675f\u65f6\u95f4"\n                                }\n                            }\n                        }, "description": {\n                            "type": "string", "title": "\u7b80\u4ecb", "minLength": 0, "maxLength": 500\n                        }\n                    }\n                }\n            }, "language": {\n                "type": "array", "title": "\u8bed\u8a00", "items": {\n                    "type": "string"\n                }\n            }\n        }\n    }}/>;\n};\n\nrender(<BaseExample/>);\n\n',scope:[{name:"jsonSchemaForm",packageName:"@kne/jsonschema-form",component:r}]}]}}},O={name:"jsonschema-form",version:"0.1.0","open-version":!0,"public-url":"/jsonschema-form",modules:[{name:"jsonschema-form",baseDir:"/home/runner/work/jsonschema-form/jsonschema-form",packageName:"@kne/jsonschema-form"}]}},54159:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,l(n)))}return e}function l(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}}]);
//# sourceMappingURL=311.fbbb4530.chunk.js.map